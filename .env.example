# Reddit Ghost Publisher MVP - Environment Variables Example

# Application Configuration
DEBUG=false
ENVIRONMENT=production
TZ=UTC

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# Database Configuration (PostgreSQL only)
# Local development
DATABASE_URL=postgresql://user:password@localhost:5432/reddit_publisher
# Railway PostgreSQL (automatically provided by Railway)
# DATABASE_URL=postgresql://postgres:password@host:port/railway
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=20

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TIMEZONE=UTC

# Reddit API Configuration with Budget Limits
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USER_AGENT=RedditGhostPublisher/1.0
REDDIT_RATE_LIMIT_RPM=60
REDDIT_DAILY_CALLS_LIMIT=5000

# OpenAI Configuration with Budget Limits
OPENAI_API_KEY=your_openai_api_key
OPENAI_PRIMARY_MODEL=gpt-4o-mini
OPENAI_FALLBACK_MODEL=gpt-4o
OPENAI_DAILY_TOKENS_LIMIT=100000

# Cost per 1K tokens (fixed internal cost map)
COST_GPT4O_MINI_PER_1K=0.00015
COST_GPT4O_PER_1K=0.005

# Ghost CMS Configuration
GHOST_ADMIN_KEY=your_ghost_admin_key
GHOST_API_URL=https://your-blog.ghost.io
GHOST_JWT_EXPIRY=300
DEFAULT_OG_IMAGE_URL=https://your-blog.ghost.io/content/images/default-og.jpg

# Scheduling Configuration (Cron expressions)
COLLECT_CRON=0 * * * *
BACKUP_CRON=0 4 * * *

# Content Processing Configuration
SUBREDDITS=programming,technology,webdev
BATCH_SIZE=20
CONTENT_MIN_SCORE=10
CONTENT_MIN_COMMENTS=5

# Monitoring and Alerting
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Alert Thresholds
QUEUE_ALERT_THRESHOLD=500
FAILURE_RATE_THRESHOLD=0.05

# Queue Configuration
QUEUE_COLLECT_NAME=collect
QUEUE_PROCESS_NAME=process
QUEUE_PUBLISH_NAME=publish

# Worker Configuration (Single node)
WORKER_COLLECTOR_CONCURRENCY=1
WORKER_NLP_CONCURRENCY=1
WORKER_PUBLISHER_CONCURRENCY=1

# Retry Configuration (Constants)
RETRY_MAX=3
BACKOFF_BASE=2
BACKOFF_MIN=2
BACKOFF_MAX=8

# Template Configuration (Article only for MVP)
TEMPLATE_ARTICLE_PATH=templates/article.hbs

# Security Configuration (Environment variables only, no Vault)
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256

# Database Credentials (for Docker Compose)
POSTGRES_DB=reddit_publisher
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_PORT=5432

# Redis Configuration (for Docker Compose)
REDIS_PORT=6379